\chapter{Software requirements}

\section{Introduction}

\dfastmi is the successor of WAQMORF.
That tool, which is part of the SIMONA system, was developed to perform the morphological impact analysis based on simulation results obtained from WAQUA, the 2D flow kernel of the SIMONA system.

\dfmi has been developed in a couple of iterations.
The first iteration (leading up to version 2) aimed at making the WAQMORF analysis available based on results obtained using \dflowfm.
The second iteration (delivering version 3) extended the analysis from 3 discharges to a more extended series of flow conditions (hydrograph approach).
The collected list of requirements over all iterations is given below.

\section{Functional Requirements} \label{Sec:FuncReq}

The functional requirements at the time of the development of \dfastmi 2.0 were:

\begin{enumerate}
\item This program must give the same results for the same data as WAQMORF (in backward compatibility mode).
\item Users must be able to run this program in batch mode from the command line.
\item Users must be able to run the analysis based on \dflowfm results.
\item Users must be able to provide all data via an input file.
\item The input file must be easy to edit for users, i.e.~a text file.
\item The report output must be a simple text file consistent with WAQMORF.
\item The spatial output must be easy to visualize in common software.

\item The program should read relevant data directly from \dflowfm map-files instead of intermediate XYZ files as required by WAQMORF for SIMONA results.

\item The input file could use the ini-format consistent with \dflowfm input files.
\item A simple graphical user interface could support users in process of creating the input file.

\item It would be nice if the software would be more generally applicable than just the Dutch rivers.
\item It would be nice if the software would be able to run besides Dutch also in English.
\end{enumerate}

All requirements were addressed in the initial development.
For version 3.1 of \dfastmi, the following functional requirements have been added.

\begin{enumerate}
\setcounter{enumi}{12} % Using enumitem option [resume] is nicer, but changes spacing
\item \dfastmi version 3 implements a new algorithm using more than 3 discharge levels.
\item The report output needs to reflect \emph{all} input settings.
\item The support for the Dutch language isn't a requirement anymore since the user manual and other tools, such as the simulation engines, only use English.
\item The program should also support \dflowfm fourier-files.
\end{enumerate}


\section{Non-functional requirements}

The non-functional (software) requirements at the time of the development of \dfastmi 2.0 were:

\begin{enumerate}
\item The performance of the tools must be similar to that of WAQMORF, i.e.~it must run within seconds.
\item The software must be version controlled.
\item The software must have formal testing and support.
\item The software must run on Windows.
\item The software must be easy to distribute.
\item The software must have a user manual.
\item The software must have technical documentation.

\item The software should run on any common operating system.
\item The software should be available as open source.
\end{enumerate}

All requirements are addressed by \dfastmi although the testing has been carried out on the Windows platform only.

For version 3.0 of \dfastmi, this list has been extended with:

\begin{enumerate}
\setcounter{enumi}{9} % Using enumitem option [resume] is nicer, but changes spacing
\item The software must have easily readable and well maintainable code conforming to international standards.
\item The software must have a test plan and a validation document.
\item The software tests must provide at least 85\% code coverage.
\item The software quality must be evaluated using Sigrid.
\item Each release must include a test report and release notes.
\end{enumerate}

\section{Choice of coding language}

The original WAQMORF code was developed in Fortran.
For \dfastmi we have selected Python because

\begin{itemize}
\item More domain specialists and users are familiar with Python and it's therefore easier to develop and maintain.
\item Adding a graphical user interface (GUI) is easier in other languages than Fortran and by using the same language for kernel and GUI makes the code more consistent and reusable.
\item The algorithm doesn't require large amounts of computations, so a native language isn't needed for adequate performance.
\item The Python environment is available for free contrary to MATLAB which is also widely used in this community.
\item Python supposedly allows for the creation of relatively small redistributable binaries.
\item Python combines well with the open source nature of this software and other developments in the Delft3D / D-HYDRO environment.
\end{itemize}
